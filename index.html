<!-- 
    El lenguaje como tela, 
    como una jerga con la embarramos mÃ¡s la mierda
    o con la cual trapeamos con Pinol el piso de nuestra cotidianeidad
 -->
 <!DOCTYPE html>
 <html lang="es">
 <head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>JergaBinaria</title>
     <!-- <link rel="stylesheet" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css">
     <link rel="stylesheet" href="https://meyerweb.com/eric/tools/css/reset/reset.css"> -->
     <style>
         * {
            font-family: 'Space Mono', monospace;
             margin: 0;
             padding: 0;
             list-style: none;
         }
         ::selection {
             background-color: white;
             color: black;
         }
         .input {
             width: 80%;
             margin: auto;
             padding: 2rem;
             display: grid;
             grid-template-rows: 1fr 1fr;
         }        
         input {            
             margin: auto;     
             padding: .5rem;  
         }
         button {
             border-radius: 10px;            
             padding: 1rem;
             font-size: 1rem;
             margin: auto;
         }
         input, button {
             display: block;
             margin-bottom: 1rem;
             background-color: black;
             color: white;
             border-style: none;
         }
         .jergaBinaria {
             border: 1px solid black;
             width: 320px;
             margin: auto;
             margin-bottom: 10vh;
         }
         .jergaBinaria .fila {
             display: flex;            
         }
         .celda {
             text-align: center;
             width: 40px;
             height: 40px;
             line-height: 40px;
             font-size: 2rem;
         }
         .jergaBinaria .cero {
             color: black;
             background-color: white;    
         }
         .jergaBinaria .uno {
             color: white;
             background-color: black;
         }    
         ul {
             width: 320px;
             margin: auto;
         }    
         li {
             text-align: center;
             font-size: 5.2rem;
             line-height: 55px;
         }
    /*##########################         RELOK         ############################  */
    #jergaBinariaRelok {
        padding-top: 2rem;
        height: 100vh;
    }
    .jergaBinariaRelok {
        margin-top: 7vh;
        width: 240px;
        margin: auto;
        height: 360px;
        filter: blur(25px);
    }
    .fila{
        display: flex;
        flex-direction: row;
    }
    .celda {
        text-align: center;
        width: 60px;
        height: 60px;
        line-height: 40px;
        font-size: 2rem;        
    }
    .cero {
        color: black;
        background-color: rgb(255,255,255,1);    
    }
    .uno {
        color: white;
        background-color: black;
    }  
    .tiempo {
        width: fit-content;
        margin: auto;
        text-align: center;
        font-size: 4.2rem;
        color: #000000;
        margin-top: 3rem;
        /* text-shadow: 0 0 10px black; */
    }
    .description {
        padding: 1rem;
        /* border-top: 4px solid black; */
        width: 80%;
        margin: auto;
        background-color: white;
        text-align: justify;
    }
    img.bg {
        position: absolute;
    }
    @media (orientation: landscape) {
        .jergaBinariaRelok {
            width: 390px;
            display: flex;
            height: auto;
        }
        .fila {
            display: block;
        }
        .celda {
            width: 65px;
            height: 65px;
        }
    }
    @media screen and (min-width: 900px) {
        .jergaBinariaRelok {
            margin-top: 3rem;
            width: 1050px;
            display: flex;
            height: auto;
        }
        .fila {
            display: block;
        }
        .celda {
            width: 175px;
            height: 175px;
        }
        .tiempo {
            width: 1050px;
            font-size: 15rem;
            letter-spacing: 1rem;            
        }
        .description {
            font-size: 3rem;
        }
    }

     </style>
 <!--  ############################################################################ -->    
    <script>
        setInterval(jergaBinariaRelok, 1000);
        function jergaBinariaRelok() {  

        let time = new Date();

        let year = time.getFullYear().toString();
        let month = time.getMonth() + 1;
        let day = time.getDate();
        let hour = time.getHours().toString();
        let min = time.getMinutes().toString();
        let sec = time.getSeconds().toString();        
        
        month = month < 10 ? "0" + month : month;
        day = day < 10 ? "0" + day : day;
        hour = hour < 10 ? "0" + hour : hour;
        min = min < 10 ? "0" + min : min;
        sec = sec < 10 ? "0" + sec : sec;
        
        let currentTime = hour + min + sec;
        
        let html = `<div class="jergaBinariaRelok">`;
        
        let hiloInput = currentTime.toString().split("");
        let hiloB = hiloInput.map((char) => char.charCodeAt(0).toString(2).slice(2)); 
        
        // let hilo4B = hiloB.map((hilo) => hilo.slice(2));   

        for (let hilo of hiloB) {
                let celda = hilo.split("").map((char) => char == 0  
                        ? char = `<div class="celda cero"></div>` 
                        : char = `<div class="celda uno"></div>`);
                // celda[0] = `<div class="celda cero">${hiloInput[0]}</div>`;
                html = html + `<div class="fila">${celda.join("")}</div>`;
        }
        
        html = html + `</div>`;
        html += `<p class="tiempo">${currentTime}</p>`;
        document.getElementById("jergaBinariaRelok").innerHTML = html;
        }

        function jergaBinaria() {
            let html = `<div class="jergaBinaria">`;
            hilo8b = document.getElementById("hiloInput")
                    .value
                    .split("")
                    .map((char) => char
                                .charCodeAt(0)
                                .toString(2)
                                .padStart(8,0));            
            for (let hilo of hilo8b) { 
                let celda = hilo
                    .split("")
                    .map((char) => char == 0 ? char = `<div class="celda cero"></div>`
                                            : char = `<div class="celda uno"></div>`);
                html += `<div class="fila">${celda.join("")}</div>`;                                             
            }
            html += `</div><ul>`;
            // INCLUIR lista de arrays binarios
            // for (let hilo of hilo8b) {
            //     let li = `<li>${hilo}</li>`;
            //     html += li;
            // }
            html += `</ul>`;
            document.getElementById("jergaBinaria").innerHTML = html;
        }
    </script>
 </head>
 <!--  ############################################################################ -->
 <body>
     <div id="jergaBinariaRelok"></div>
     <div class="input">
         <input  type="text" 
                 name="hiloInput" 
                 id="hiloInput" 
                 placeholder="Escribe algo">
         <button onclick="jergaBinaria()">Generar jerga</button>
     </div>
     <div id="jergaBinaria"></div>    
 </body>
 </html>